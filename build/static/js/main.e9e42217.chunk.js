(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{208:function(e,t,c){},394:function(e,t,c){},395:function(e,t,c){},396:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(38),r=c.n(a),o=c(22),l=c(49),i=Object(l.b)({name:"username",initialState:{username:null},reducers:{setUserName:function(e,t){e.username=t.payload}}}),d=i.actions.setUserName,u=i.reducer,j=Object(l.b)({name:"showContacts",initialState:{showContacts:!1},reducers:{triggerContacts:function(e){e.showContacts=!e.showContacts}}}),m=j.actions.triggerContacts,b=j.reducer,x=Object(l.a)({reducer:{username:u,showContacts:b}}),h=(c(208),c(40)),f=c(8),O=c(23),p=c(414),g=c(3),v=function(e){var t,c,n,a,r=e.location,l=Object(o.d)((function(e){return e.username})),i=Object(o.c)(),u=Object(s.useState)((null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.roomName)?null===r||void 0===r||null===(c=r.state)||void 0===c?void 0:c.roomName:""),j=Object(O.a)(u,2),m=j[0],b=j[1],x=Object(s.useState)("bg-black bg-opacity-80"),f=Object(O.a)(x,2),v=f[0],y=f[1],w=Object(s.useState)("text-gray-200"),N=Object(O.a)(w,2),k=N[0],C=N[1],M=Object(s.useState)("bg-gray-200 placeholder-gray-600"),S=Object(O.a)(M,2),Y=S[0],E=S[1];return Object(g.jsxs)("div",{className:"w-full h-screen overflow-hidden ".concat(v),children:[Object(g.jsx)("div",{className:"".concat((null===r||void 0===r||null===(n=r.state)||void 0===n?void 0:n.error)?"block":"hidden"),children:Object(g.jsx)(p.a,{severity:"error",children:null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.error})}),Object(g.jsxs)("div",{className:"h-full flex flex-col justify-center items-center transition",children:[Object(g.jsx)("div",{className:"font-thin text-2xl w-5/12 md:w-3/12 lg:w-2/12 text-center py-2 border-b ".concat(k),children:Object(g.jsx)("h1",{children:"Join"})}),Object(g.jsx)("input",{required:!0,className:"w-5/12 md:w-3/12 lg:w-2/12 my-4 shadow rounded py-2 px-3 font-thin ".concat(Y),placeholder:"Enter your name",type:"text",onChange:function(e){return i(d(e.target.value))}}),Object(g.jsx)("input",{required:!0,className:"w-5/12 md:w-3/12 lg:w-2/12 shadow rounded py-2 px-3 font-thin ".concat(Y),placeholder:"Enter room name",value:m,type:"text",onChange:function(e){return b(e.target.value)}}),Object(g.jsx)(h.b,{onClick:function(e){return l&&m?null:e.preventDefault()},to:"/chat?room=".concat(m),className:"my-4",children:Object(g.jsx)("button",{className:"focus:outline-none outline-none border py-2 px-8 rounded-xl text-gray-700 bg-gray-200 hover:bg-black hover:opacity-80 hover:text-gray-300",type:"submit",onMouseEnter:function(){y("bg-custom-lighter-pink dark:bg-gray-700"),C("text-black text-opacity-80 border-black border-opacity-80"),E("bg-black bg-opacity-80 placeholder-gray-200 text-gray-200")},onMouseLeave:function(){y("bg-black bg-opacity-80"),C("text-gray-200"),E("bg-gray-200 placeholder-gray-600 text-gray-700")},children:"Join chat"})})]})]})},y=c(84),w=c(118),N=c.n(w),k=c(183),C=c.n(k),M=c(83),S=c(185),Y=c(184),E=function(e){var t=e.room,c=Object(o.c)();return Object(g.jsx)("div",{className:"w-full mx-auto",children:Object(g.jsxs)("div",{className:"w-full flex flex-row justify-between bg-custom-pinker text-gray-100",children:[Object(g.jsxs)("div",{className:"flex flex-row truncate",children:[Object(g.jsx)("div",{className:"text-4xl p-2",children:Object(g.jsx)(M.a,{})}),Object(g.jsx)("h3",{className:"align-middle my-auto",children:t})]}),Object(g.jsxs)("div",{className:"my-auto px-4 flex flex-row",children:[Object(g.jsx)("button",{className:"mx-4 focus:outline-none",onClick:function(){return c(m())},children:Object(g.jsx)(Y.a,{className:"text-xl"})}),Object(g.jsx)(h.b,{to:"/",className:"text-gray-100 text-xl",children:Object(g.jsx)(S.a,{className:"mx-auto"})})]})]})})},D=c(186),L=function(e){var t=e.message,c=e.setMessage,s=e.sendMessage;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"flex flex-row w-full relative",children:[Object(g.jsx)("input",{value:t,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?s(e):null},type:"text",placeholder:"Start typing...",className:"w-full p-4 md:p-2 focus:outline-none font-thin pr-20"}),Object(g.jsx)("button",{className:"absolute z-10 right-8 text-2xl text-custom-pinker p-4 md:p-2 focus:outline-none",children:Object(g.jsx)(D.a,{})}),Object(g.jsx)("button",{onClick:function(e){return s(e)},className:"absolute right-0 z-10 text-2xl text-custom-pinker p-4 md:p-2 focus:outline-none",children:Object(g.jsx)(M.b,{})})]})})},z=c(199),J=c(10),U=c.n(J),q=function(e){var t=e.message,c=t.user,s=t.text,n=t.date,a=e.name;return c===a.trim().toLowerCase()?Object(g.jsx)("div",{className:"flex justify-end p-2",children:Object(g.jsxs)("div",{className:"min-w-1/3 max-w-3/4 md:max-w-1/2 bg-custom-pinker bg-opacity-70 rounded-xl py-1 px-2 break-words",children:[Object(g.jsx)("div",{className:"flex flex-row justify-between truncate",children:Object(g.jsx)("p",{className:"font-bold text-sm text-right text-custom-for-name",children:a.trim()})}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"text-sm",children:s})}),Object(g.jsx)("div",{className:"mx-auto text-right",children:Object(g.jsx)("span",{className:"font-thin text-xs text-opacity-70 text-black",children:U()(U()()).isSame(n,"day")?U()(n).format("LT"):0===U()().diff(n,"days")?"Yesterday":U()().diff(n,"days")<=7?U()(n).format("ddd, h:mm"):0===U()().diff(n,"years")?U()(n).format("MMM Do"):U()(n).format("MMM Do YYYY")})})]})}):"admin"===c?Object(g.jsx)("div",{className:"font-thin text-sm text-center truncate px-16",children:s}):Object(g.jsx)("div",{className:"flex justify-start p-2",children:Object(g.jsxs)("div",{className:"min-w-1/3 max-w-3/4 md:max-w-1/2 bg-custom-pink bg-opacity-60 rounded-xl py-1 px-2 break-words",children:[Object(g.jsx)("div",{className:"flex flex-row justify-between truncate",children:Object(g.jsx)("p",{className:"font-bold text-sm text-left text-custom-for-name",children:a.trim()})}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"text-sm",children:s})}),Object(g.jsx)("div",{className:"mx-auto text-right",children:Object(g.jsx)("span",{className:"font-thin text-xs text-opacity-70 text-black",children:U()(U()()).isSame(n,"day")?U()(n).format("LT"):0===U()().diff(n,"days")?"Yesterday":U()().diff(n,"days")<=7?U()(n).format("ddd, h:mm"):0===U()().diff(n,"years")?U()(n).format("MMM Do"):U()(n).format("MMM Do YYYY")})})]})})},B=(c(394),function(e){var t=e.messages,c=e.name;return Object(g.jsx)(z.a,{followButtonClassName:"ScrollToBottomBtn",className:"w-full h-full overflow-hidden",children:t.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsx)(q,{message:e,name:c})},t)}))})});c(395);var H,T=Object(o.b)((function(e,t){return{showContacts:e.showContacts}}))((function(e){var t=e.users,c=e.showContacts;return Object(g.jsx)("div",{className:"bg-white bg-opacity-50 overflow-scroll transition-size duration-500 border-2 border-custom-light-pink ".concat(c.showContacts?"w-full p-5 h-full":"w-0 p-0 h-0"),children:Object(g.jsxs)("div",{className:"".concat(c.showContacts?"block":"hidden"),children:[Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("span",{className:"font-thin",children:"Users in chat:"})}),Object(g.jsx)("div",{className:"text-red-700 truncate text-center",children:t.map((function(e){return Object(g.jsx)("div",{children:e.name},e.name)}))})]})})})),I=function(e){var t=e.location,c=Object(o.d)((function(e){return e.username})).username,n=Object(s.useState)(""),a=Object(O.a)(n,2),r=a[0],l=a[1],i=Object(s.useState)(""),d=Object(O.a)(i,2),u=d[0],j=d[1],m=Object(s.useState)([]),b=Object(O.a)(m,2),x=b[0],h=b[1],p=Object(s.useState)([]),v=Object(O.a)(p,2),w=v[0],k=v[1],M=Object(s.useState)(null),S=Object(O.a)(M,2),Y=S[0],D=S[1],z="https://kinda-realtime-chat.herokuapp.com/";Object(s.useEffect)((function(){var e=N.a.parse(t.search).room;return H=C()(z,{transports:["websocket"]}),l(e),H.emit("join",{name:c,room:e},(function(e){D(e)})),H.on("loadMessageHistory",(function(e){var t=e.messagesHistory;h(Object(y.a)(t))})),H.on("getUsersInChat",(function(e){var t=e.usersInChat;k(Object(y.a)(t))})),function(){H.disconnect(),H.off()}}),[z,t.search]),Object(s.useEffect)((function(){H.on("message",(function(e){h([].concat(Object(y.a)(x),[e]))}))}),[x]);return!c||Y?Object(g.jsx)(f.a,{to:{pathname:"/",state:{roomName:N.a.parse(t.search).room,error:Y}}}):Object(g.jsxs)("div",{className:"h-screen bg-custom-lighter-pink bg-opacity-50 flex flex-col md:flex-row justify-center items-center",children:[Object(g.jsxs)("div",{className:"flex flex-col justify-between h-full lg:h-5/6 xl:h-3/4 w-full lg:w-6/12 bg-custom-lighter-pink",children:[Object(g.jsx)(E,{room:r}),Object(g.jsx)("div",{className:"md:hidden",children:Object(g.jsx)(T,{users:w})}),Object(g.jsx)(B,{messages:x,name:c,className:"h-full"}),Object(g.jsx)(L,{message:u,setMessage:j,sendMessage:function(e){e.preventDefault(),u&&H.emit("sendMessage",u,(function(){return j("")}))}})]}),Object(g.jsx)("div",{className:"hidden md:block w-full md:w-3/12 lg:w-2/12 h-1/2 md:h-full lg:h-5/6 xl:h-3/4",children:Object(g.jsx)(T,{users:w})})]})},P=function(){function e(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}return Object(s.useEffect)((function(){e(),window.addEventListener("resize",(function(){e()}))}),[]),Object(g.jsx)(h.a,{children:Object(g.jsxs)(f.d,{children:[Object(g.jsx)(f.b,{path:"/",exact:!0,component:v}),Object(g.jsx)(f.b,{path:"/chat",component:I})]})})};r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(o.a,{store:x,children:Object(g.jsx)(P,{})})}),document.querySelector("#root"))}},[[396,1,2]]]);